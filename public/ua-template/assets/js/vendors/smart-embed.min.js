!function($,t,n,i){function o(t,n){this.element=t,this.options=$.extend({},a,n),this._defaults=a,this._name=e,this.init()}var e="smartEmbed",a={idSelectorName:"vimeo-id",vimeoPatternUrl:"http://vimeo.com/api/oembed.json?url=http%3A%2F%2Fvimeo.com/",autoplay:!0,width:640,onComplete:function(){},onError:function(){}};o.prototype={init:function(){var t=this.options;$(this.element).each(function(n,i){var o=$(i),e=o.data(t.idSelectorName);if(e&&!/VIMEO/i.test(o.attr("src"))){var a=t.vimeoPatternUrl+e+"&autoplay="+t.autoplay+"&width="+t.width+"&callback=?";$.ajax({url:a,dataType:"jsonp",success:function(n){$("#output").text(JSON.stringify(n)),o.wrap('<div class="vimeo-wrapper" />'),o.attr("src",n.thumbnail_url),o.parent().prepend('<span class="play-icon"/>').on("click",function(){var i=$(this);i.find("iframe").length||i.append(n.html).find("img, .play-icon").hide(),t.onComplete&&"function"==typeof t.onComplete&&t.onComplete.call(this)})},error:function(){t.onError&&"function"==typeof t.onError&&t.onError.call(this)}})}})}},$.fn[e]=function(t){return this.each(function(){$.data(this,"plugin_"+e)||$.data(this,"plugin_"+e,new o(this,t))})}}(jQuery,window,document);